#+TITLE: 750words command-line client
#+author: Diego Zamboni
#+email: diego@zzamboni.org

A simple client for posting text to your [[https://750words.com/][750words.com]] account. Can also be used to query your current word count.

* Installation

** Docker image

You can pull the image that runs =750words-client.py= as follows:

#+begin_src bash
docker pull zzamboni/750words-client
#+end_src

And then use it as follows:

#+begin_src bash
docker run -i zzamboni/750words-client --help
#+end_src

Note: you need to use the =-i= option to =docker run= to allow the container to read the text from standard input.

If you want to build the image yourself, you can do it as follows ([[https://github.com/zzamboni/750words-client/blob/main/Dockerfile][Dockerfile]]):

#+begin_src bash
docker build  --tag 750words-client .
#+end_src

** Local installation

You need the following libraries and components installed:

- [[https://selenium-python.readthedocs.io/][Selenium]] Python bindings.
- [[https://www.google.com/chrome/][Google Chrome]] is used to automate the connections.
- [[https://chromedriver.chromium.org/][ChromeDriver]] so that Selenium can connect to Chrome - make sure you install the version that corresponds to the Chrome version you have installed.

* Usage

#+begin_src bash :results output :exports both
750words-client.py --help
#+end_src

#+RESULTS:
#+begin_example
usage: 750words-client.py [-h] [--min MIN] [--max MAX] [--only-if-needed]
                          [--replace] [--count] [--text] [--no-headless]
                          [--quiet] [--user USER] [--password PASSWORD]
                          [FILE ...]

Interact with 750words.com from the command line.

positional arguments:
  FILE                 Input files for text to add. Default is to read from
                       standard input.

optional arguments:
  -h, --help           show this help message and exit
  --min MIN            Minimum number of words needed. Default: 750.
  --max MAX            Maximum total number of words allowed. Default: 4995.
  --only-if-needed     Only add text if current word count is below MIN.
  --replace            Replace any current text with the new one, default is
                       to add at the end.
  --count              Don't upload text, only print the current word count.
  --text               Don't upload text, only print the current text.
  --no-headless        Disable headless mode (opens the Chrome app window).
  --quiet              Don't print progress messages.
  --user USER          User name to use for 750words. Can be provided through
                       the USER_750WORDS environment variable.
  --password PASSWORD  Password to use for authentication. Can be provided
                       through the PASS_750WORDS environment variable.
#+end_example
